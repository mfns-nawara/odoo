<?xml version="1.0"?>
<odoo>
    <record id="mail_activity_demo_followup_quote" model="mail.activity.type">
        <field name="name">Follow-up Quote</field>
        <field name="icon">fa-file-text-o</field>
        <field name="res_model_id" ref="crm.model_crm_lead"/>
        <field name="delay_count">30</field>
    </record>
    <record id="mail_activity_demo_make_quote" model="mail.activity.type">
        <field name="name">Make Quote</field>
        <field name="icon">fa-file-text-o</field>
        <field name="res_model_id" ref="crm.model_crm_lead"/>
        <field name="delay_count">15</field>
    </record>
    <record id="mail_activity_demo_call_demo" model="mail.activity.type">
        <field name="name">Call for Demo</field>
        <field name="icon">fa-phone</field>
        <field name="res_model_id" ref="crm.model_crm_lead"/>
        <field name="delay_count">10</field>
    </record>

    <record id="mail_template_demo_crm_lead" model="mail.template">
        <field name="name">Welcome Demo</field>
        <field name="model_id" ref="crm.model_crm_lead"/>
        <field name="partner_to">${object.partner_id != False and object.partner_id.id}</field>
        <field name="email_to">${(not object.partner_id and object.email_from)|safe}</field>
        <field name="body_html" type="html">
<div style="margin: 0px; padding: 0px;">
    <p style="margin: 0px; padding: 0px; font-size: 13px;">
        Hi ${object.partner_id and object.partner_id.name or ''},<br/><br/>
        Welcome to ${object.company_id.name}.
        It's great to meet you! Now that you're on board, you'll discover what ${object.company_id.name} has to offer. My name is ${object.user_id.name} and I'll help you get the most out of Odoo. Could we plan a quick demo soon?<br/>
        Feel free to reach out at any time!<br/><br/>
        Best,<br/>
        % if object.user_id:
            <b>${object.user_id.name}</b>
            <br/>Email: ${object.user_id.email or ''}
            <br/>Phone: ${object.user_id.phone or ''}
        % else:
            ${object.company_id.name}
        % endif
    </p>
</div>
        </field>
        <field name="lang">${object.partner_id.lang}</field>
        <field name="auto_delete" eval="True"/>
    </record>

    <record id="mail_activity_type_demo_email_with_template" model="mail.activity.type">
        <field name="name">Email: Welcome Demo</field>
        <field name="icon">fa-envelope</field>
        <field name="res_model_id" ref="crm.model_crm_lead"/>
        <field name="mail_template_ids" eval="[(4, ref('crm.mail_template_demo_crm_lead'))]"/>
    </record>
</odoo>
